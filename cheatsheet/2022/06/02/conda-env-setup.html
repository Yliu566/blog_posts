<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">use anaconda to setup an environment</h1><p class="page-description">This page tells you what is a conda environment and how to build or remove specific conda environment.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-06-02T00:00:00-05:00" itemprop="datePublished">
        Jun 2, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog_posts/categories/#cheatsheet">cheatsheet</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#what-is-the-conda-environment">What is the conda environment?</a></li>
<li class="toc-entry toc-h2"><a href="#conda-commands">conda commands</a>
<ul>
<li class="toc-entry toc-h3"><a href="#check-conda-environment">check conda environment</a></li>
<li class="toc-entry toc-h3"><a href="#conda-build-a-new-environment">conda build a new environment</a></li>
<li class="toc-entry toc-h3"><a href="#conda-enter-into-or-leave-a-specific-environment">conda enter into or leave a specific environment</a></li>
<li class="toc-entry toc-h3"><a href="#about-packages-in-the-environment">about packages in the environment</a></li>
<li class="toc-entry toc-h3"><a href="#export-environment-as-yml">export environment as yml</a></li>
<li class="toc-entry toc-h3"><a href="#clone-an-environment">clone an environment</a></li>
<li class="toc-entry toc-h3"><a href="#conda-remove-a-specific-environment">conda remove a specific environment</a></li>
<li class="toc-entry toc-h3"><a href="#change-download-source-of-conda">change download source of conda</a></li>
</ul>
</li>
</ul><h2 id="what-is-the-conda-environment">
<a class="anchor" href="#what-is-the-conda-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is the conda environment?</h2>

<p>conda environment is useful because you can build your own environment without meeting the situation some packages indepencies are conflict with those of another.</p>

<p>First of all, you need to install Anaconda or Miniconda. please refer to <a href="https://conda.io/projects/conda/en/stable/user-guide/install/linux.html#install-linux-silent">this link</a>, download the installer and install Anaconda or Miniconda.</p>

<h2 id="conda-commands">
<a class="anchor" href="#conda-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>conda commands</h2>

<h3 id="check-conda-environment">
<a class="anchor" href="#check-conda-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>check conda environment</h3>
<blockquote>
  <p>conda env list</p>
</blockquote>

<h3 id="conda-build-a-new-environment">
<a class="anchor" href="#conda-build-a-new-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>conda build a new environment</h3>
<blockquote>
  <p>conda create -c conda-forge your_env_name</p>
</blockquote>

<h3 id="conda-enter-into-or-leave-a-specific-environment">
<a class="anchor" href="#conda-enter-into-or-leave-a-specific-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>conda enter into or leave a specific environment</h3>
<p>Enter:</p>
<blockquote>
  <p>conda activate your_env_name</p>
</blockquote>

<p>Exit:</p>
<blockquote>
  <p>source deactivate</p>
</blockquote>

<p>or</p>
<blockquote>
  <p>conda deactivate</p>
</blockquote>

<h3 id="about-packages-in-the-environment">
<a class="anchor" href="#about-packages-in-the-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>about packages in the environment</h3>
<p>To check all available packages:</p>
<blockquote>
  <p>conda list</p>
</blockquote>

<blockquote>
  <p>conda list -n your_env_name</p>
</blockquote>

<p>To check one package (e.g. rdkit) in your conda list</p>
<blockquote>
  <table>
    <tbody>
      <tr>
        <td>conda list</td>
        <td>grep rdkit</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h3 id="export-environment-as-yml">
<a class="anchor" href="#export-environment-as-yml" aria-hidden="true"><span class="octicon octicon-link"></span></a>export environment as yml</h3>
<!-- 导出环境为yml -->

<blockquote>
  <p>conda env export &gt;  environment.yml</p>
</blockquote>

<!-- 根据yml创建环境 -->
<p>create environment based on yml link:</p>

<blockquote>
  <p>conda env create -f environment.yml</p>
</blockquote>

<!-- 对yml文件修改后更新环境 -->
<p>update conda environment after making edits on yml file:</p>
<blockquote>
  <p>conda env update -f environment.yml</p>
</blockquote>

<h3 id="clone-an-environment">
<a class="anchor" href="#clone-an-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>clone an environment</h3>
<!-- 复制环境 -->

<blockquote>
  <p>conda create -n python36 –clone python36_new</p>
</blockquote>

<h3 id="conda-remove-a-specific-environment">
<a class="anchor" href="#conda-remove-a-specific-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>conda remove a specific environment</h3>

<!-- 删除环境： -->
<blockquote>
  <p>conda remove -n your_env_name –all</p>
</blockquote>

<!-- 删除虚拟环境中的包： -->
<p>conda remove a package from a environment</p>
<blockquote>
  <p>conda remove –name $your_env_name $package_name</p>
</blockquote>

<h3 id="change-download-source-of-conda">
<a class="anchor" href="#change-download-source-of-conda" aria-hidden="true"><span class="octicon octicon-link"></span></a>change download source of conda</h3>
<!-- 更改镜像源 -->

<ol>
  <li>check download resources
    <blockquote>
      <p>conda config –set show_channel_urls yes</p>
    </blockquote>
  </li>
  <li>add download sources to conda config
    <blockquote>
      <p>conda config –add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</p>
    </blockquote>
  </li>
</ol>

<p>Also you will see the infomation in file ~/.condarc
<!-- 修改后可以在~/.condarc配置文件中可以看到相应信息 --></p>

<p>pip download sources are changed by looking at the file: ~/.pip/pip.conf
<!-- pip修改镜像源（修改~/.pip/pip.conf配置文件） --></p>

  </div><a class="u-url" href="/blog_posts/cheatsheet/2022/06/02/conda-env-setup.html" hidden></a>
</article>
